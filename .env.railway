# Railway Deployment Environment Variables

# IMPORTANTE: Configura estas variables en Railway Dashboard
# No subas este archivo con valores reales al repositorio

# Servidor
SERVER_TYPE=https
SERVER_PORT=$PORT
SERVER_URL=https://tu-proyecto.railway.app

# Base de datos (Railway PostgreSQL)
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=$DATABASE_URL
DATABASE_CONNECTION_CLIENT_NAME=evolution_railway

# Autenticación - CAMBIAR POR UNA CLAVE SEGURA
AUTHENTICATION_API_KEY=TU_CLAVE_SUPER_SECRETA_AQUI_CAMBIAR

# CORS - Configurar dominios permitidos
CORS_ORIGIN=https://tu-proyecto.railway.app,https://tu-dominio-frontend.com
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# Logs optimizados para producción
LOG_LEVEL=ERROR,WARN,INFO,LOG
LOG_COLOR=false
LOG_BAILEYS=error

# Cache con Redis (Railway Redis)
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=$REDIS_URL
CACHE_REDIS_TTL=604800
CACHE_REDIS_PREFIX_KEY=evolution_prod
CACHE_REDIS_SAVE_INSTANCES=true
CACHE_LOCAL_ENABLED=false

# Configuración de instancias para producción
DEL_INSTANCE=300
DEL_TEMP_INSTANCES=true
EVENT_EMITTER_MAX_LISTENERS=100

# Configuración de base de datos optimizada
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true
DATABASE_SAVE_IS_ON_WHATSAPP=true
DATABASE_SAVE_IS_ON_WHATSAPP_DAYS=7
DATABASE_DELETE_MESSAGE=true

# WhatsApp Business API
WA_BUSINESS_TOKEN_WEBHOOK=evolution_railway
WA_BUSINESS_URL=https://graph.facebook.com
WA_BUSINESS_VERSION=v20.0
WA_BUSINESS_LANGUAGE=es_ES

# Configuración de sesión de teléfono
CONFIG_SESSION_PHONE_CLIENT=Evolution API Railway
CONFIG_SESSION_PHONE_NAME=Chrome

# QR Code
QRCODE_LIMIT=30
QRCODE_COLOR=#175197

# WebHooks habilitados para producción
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Eventos webhook optimizados
WEBHOOK_EVENTS_INSTANCE_CREATE=true
WEBHOOK_EVENTS_INSTANCE_DELETE=true
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_CONTACTS_UPSERT=true
WEBHOOK_EVENTS_CHATS_UPSERT=true
WEBHOOK_EVENTS_GROUPS_UPSERT=true
WEBHOOK_EVENTS_GROUPS_UPDATE=true
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_CALL=true
WEBHOOK_EVENTS_ERRORS=true

# Configuración de retry para webhooks
WEBHOOK_REQUEST_TIMEOUT_MS=30000
WEBHOOK_RETRY_MAX_ATTEMPTS=5
WEBHOOK_RETRY_INITIAL_DELAY_SECONDS=2
WEBHOOK_RETRY_USE_EXPONENTIAL_BACKOFF=true
WEBHOOK_RETRY_MAX_DELAY_SECONDS=120

# Integraciones - Configurar según necesidad
TYPEBOT_ENABLED=false
CHATWOOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false
N8N_ENABLED=false
EVOAI_ENABLED=false
FLOWISE_ENABLED=false

# Servicios externos deshabilitados por defecto
RABBITMQ_ENABLED=false
NATS_ENABLED=false
SQS_ENABLED=false
WEBSOCKET_ENABLED=false
PUSHER_ENABLED=false

# S3/MinIO para almacenamiento de archivos (opcional)
S3_ENABLED=false

# Idioma
LANGUAGE=es

# Provider de archivos deshabilitado
PROVIDER_ENABLED=false

# Configuración de autenticación
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true
